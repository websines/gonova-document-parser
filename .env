# Document Parser Configuration
# Connects to EXTERNAL vLLM servers running on host machine

# =============================================================================
# EXTERNAL vLLM SERVERS (Must be running before starting this app)
# =============================================================================
# Port 4444: DeepSeek-OCR (for standard documents, tables, charts)
# Port 4445: Nanonets-OCR2-3B (for handwriting, signatures, forms, VQA)
# Port 4446: Granite-Docling-258M (for semantic enrichment - optional)

INFERENCE_MODE=vllm

# vLLM Server URLs (OpenAI-compatible endpoints)
VLLM_DEEPSEEK_URL=http://localhost:4444/v1/chat/completions
VLLM_NANONETS_URL=http://localhost:4445/v1/chat/completions
VLLM_GRANITE_URL=http://localhost:4446/v1/chat/completions
VLLM_API_KEY=EMPTY

# Model Names (for reference only - models run on your external vLLM servers)
DEEPSEEK_MODEL=deepseek-ai/DeepSeek-OCR
NANONETS_MODEL=nanonets/Nanonets-OCR2-3B
GRANITE_MODEL=ibm-granite/granite-docling-258m

# =============================================================================
# GPU Configuration (NOT NEEDED - vLLM runs externally)
# =============================================================================
# This API server doesn't need GPU access when using external vLLM
CUDA_VISIBLE_DEVICES=0
TORCH_DEVICE=cpu
VRAM_LIMIT_GB=22

# Processing Configuration
DEFAULT_ACCURACY_MODE=balanced  # fast, balanced, maximum
DEFAULT_BATCH_SIZE=4
MAX_PAGES_PER_BATCH=500
ENABLE_SIGNATURE_DETECTION=true
ENABLE_HANDWRITING_DETECTION=true
ENABLE_ENRICHMENT=false  # Set to true for Granite enrichment (slower but better structure)

# Output Configuration
OUTPUT_DIR=./output
CACHE_DIR=./cache
LOG_LEVEL=INFO

# =============================================================================
# API Server Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8080
API_WORKERS=1

# =============================================================================
# Redis Configuration (Must be running on host machine)
# =============================================================================
# For job queue persistence and async processing
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Optional Integrations
# =============================================================================
# Graph-Vector DB (for storing processed documents)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password
